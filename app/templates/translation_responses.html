{% extends "base.html" %}
{% block content %}

<div class="subcontainer">

  <h1>{{ _("Response to a Challenge") }} <span style="font-weight:normal">({{ _("Beta") }})</span></h1>

  <div class="table">
    <div class="row-fluid">
      <div class="span3 header">{{ _("Original text") }} ({{ translation.source | language_name }})</div>
      <div class="span9">{{ translation.original_text }}</div>
    </div>

    <div class="row-fluid">
      <div class="span3 header">{{ _("Translated text") }} ({{ translation.target | language_name }})</div>
      <div class="span9">{{ translation.translated_text }}</div>
    </div>

    <div class="row-fluid">
      <div class="span3"></div>
      <div class="span7">
        <ul class="media-list">
        {% for tresponse in tresponses %}
        {% set mine = tresponse.user_id == current_user.id %}
          <li class="translation-response {% if mine %}highlight{% endif %}">
            <div>
              {{ tresponse.user.name }} &middot;
              {{ tresponse.timestamp | date }} &middot;
              <span class="rating-plus" translation-id="{{ tresponse.id | uuid_to_b62 }}">{{ tresponse.plus_ratings }}</span> /
              <span class="rating-minus" translation-id="{{ tresponse.id | uuid_to_b62 }}">{{ tresponse.minus_ratings }}</span> &nbsp;
              <div class="btn-group">
                <button class="btn btn-mini" translation-id="{{ tresponse.id | uuid_to_b62 }}" rating="1" onclick="rateTranslation($(this))">
                  <i class="icon-plus"></i>
                </button>
                <button class="btn btn-mini" translation-id="{{ tresponse.id | uuid_to_b62 }}" rating="-1" onclick="rateTranslation($(this))">
                  <i class="icon-minus"></i>
                </button>
              </div>
              {% if mine %}&nbsp;
              <a href="{{ url_for('translation_response', translation_id=tresponse.id_b62) }}">{{ _("Edit") }}</a>
              {% endif %}
            </div>
            <div>{{ tresponse.translated_text }}</div>
          </li>
        {% endfor %}
      </li>
      </div>
    </div>
  </div>

</div>

{% endblock %}